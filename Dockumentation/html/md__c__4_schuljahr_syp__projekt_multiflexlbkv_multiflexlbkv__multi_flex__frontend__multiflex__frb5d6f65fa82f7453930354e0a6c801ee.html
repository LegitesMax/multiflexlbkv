<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Multiflex: readme</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Multiflex
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">readme </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="fragment"><div class="line">  ____  __  _____  __  _____</div>
<div class="line"> / __ `/ / / / _ \/ / / / _ \</div>
<div class="line">/ /_/ / /_/ /  __/ /_/ /  __/</div>
<div class="line">\__, /\__,_/\___/\__,_/\___/</div>
<div class="line">  /_/</div>
</div><!-- fragment --><p> Asynchronous function queue with adjustable concurrency.</p>
<p ><a href="http://www.npmjs.org/queue"><img src="http://img.shields.io/npm/v/queue.svg?style=flat-square" alt="npm" style="pointer-events: none;" class="inline"/></a> <a href="https://travis-ci.org/jessetane/queue"><img src="https://img.shields.io/travis/jessetane/queue.svg?style=flat-square&amp;branch=master" alt="tests" style="pointer-events: none;" class="inline"/></a> <a href="https://coveralls.io/r/jessetane/queue"><img src="https://img.shields.io/coveralls/jessetane/queue.svg?style=flat-square&amp;branch=master" alt="coverage" style="pointer-events: none;" class="inline"/></a></p>
<p >This module exports a class <code>Queue</code> that implements most of the <code>Array</code> API. Pass async functions (ones that accept a callback or return a promise) to an instance's additive array methods. Processing begins when you call <code>q.start()</code>.</p>
<h2><a class="anchor" id="autotoc_md2572"></a>
Example</h2>
<p ><code>npm run example</code> </p><div class="fragment"><div class="line">var queue = require(&#39;../&#39;)</div>
<div class="line"> </div>
<div class="line">var q = queue({ results: [] })</div>
<div class="line"> </div>
<div class="line">// add jobs using the familiar Array API</div>
<div class="line">q.push(function (cb) {</div>
<div class="line">  const result = &#39;two&#39;</div>
<div class="line">  cb(null, result)</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">q.push(</div>
<div class="line">  function (cb) {</div>
<div class="line">    const result = &#39;four&#39;</div>
<div class="line">    cb(null, result)</div>
<div class="line">  },</div>
<div class="line">  function (cb) {</div>
<div class="line">    const result = &#39;five&#39;</div>
<div class="line">    cb(null, result)</div>
<div class="line">  }</div>
<div class="line">)</div>
<div class="line"> </div>
<div class="line">// jobs can accept a callback or return a promise</div>
<div class="line">q.push(function () {</div>
<div class="line">  return new Promise(function (resolve, reject) {</div>
<div class="line">    const result = &#39;one&#39;</div>
<div class="line">    resolve(result)</div>
<div class="line">  })</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">q.unshift(function (cb) {</div>
<div class="line">  const result = &#39;one&#39;</div>
<div class="line">  cb(null, result)</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">q.splice(2, 0, function (cb) {</div>
<div class="line">  const result = &#39;three&#39;</div>
<div class="line">  cb(null, result)</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">// use the timeout feature to deal with jobs that</div>
<div class="line">// take too long or forget to execute a callback</div>
<div class="line">q.timeout = 100</div>
<div class="line"> </div>
<div class="line">q.on(&#39;timeout&#39;, function (next, job) {</div>
<div class="line">  console.log(&#39;job timed out:&#39;, job.toString().replace(/\n/g, &#39;&#39;))</div>
<div class="line">  next()</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">q.push(function (cb) {</div>
<div class="line">  setTimeout(function () {</div>
<div class="line">    console.log(&#39;slow job finished&#39;)</div>
<div class="line">    cb()</div>
<div class="line">  }, 200)</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">q.push(function (cb) {</div>
<div class="line">  console.log(&#39;forgot to execute callback&#39;)</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">// jobs can also override the queue&#39;s timeout</div>
<div class="line">// on a per-job basis</div>
<div class="line">function extraSlowJob (cb) {</div>
<div class="line">  setTimeout(function () {</div>
<div class="line">    console.log(&#39;extra slow job finished&#39;)</div>
<div class="line">    cb()</div>
<div class="line">  }, 400)</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">extraSlowJob.timeout = 500</div>
<div class="line">q.push(extraSlowJob)</div>
<div class="line"> </div>
<div class="line">// jobs can also opt-out of the timeout altogether</div>
<div class="line">function superSlowJob (cb) {</div>
<div class="line">  setTimeout(function () {</div>
<div class="line">    console.log(&#39;super slow job finished&#39;)</div>
<div class="line">    cb()</div>
<div class="line">  }, 1000)</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">superSlowJob.timeout = null</div>
<div class="line">q.push(superSlowJob)</div>
<div class="line"> </div>
<div class="line">// get notified when jobs complete</div>
<div class="line">q.on(&#39;success&#39;, function (result, job) {</div>
<div class="line">  console.log(&#39;job finished processing:&#39;, job.toString().replace(/\n/g, &#39;&#39;))</div>
<div class="line">  console.log(&#39;The result is:&#39;, result)</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">// begin processing, get notified on end / failure</div>
<div class="line">q.start(function (err) {</div>
<div class="line">  if (err) throw err</div>
<div class="line">  console.log(&#39;all done:&#39;, q.results)</div>
<div class="line">})</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2573"></a>
Install</h2>
<p ><code>npm install queue</code></p>
<p ><em>Note</em>: You may need to install the <a href="https://github.com/Gozala/events"><code>events</code></a> dependency if your environment does not have it by default (eg. browser, react-native).</p>
<h2><a class="anchor" id="autotoc_md2574"></a>
Test</h2>
<p ><code>npm test</code> <code>npm run test-browser</code></p>
<h2><a class="anchor" id="autotoc_md2575"></a>
API</h2>
<h3><a class="anchor" id="autotoc_md2576"></a>
&lt;tt&gt;var q = queue([opts])&lt;/tt&gt;</h3>
<p >Constructor. <code>opts</code> may contain inital values for:</p><ul>
<li><code>q.concurrency</code></li>
<li><code>q.timeout</code></li>
<li><code>q.autostart</code></li>
<li><code>q.results</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md2577"></a>
Instance methods</h2>
<h3><a class="anchor" id="autotoc_md2578"></a>
&lt;tt&gt;q.start([cb])&lt;/tt&gt;</h3>
<p >cb, if passed, will be called when the queue empties or when an error occurs.</p>
<h3><a class="anchor" id="autotoc_md2579"></a>
&lt;tt&gt;q.stop()&lt;/tt&gt;</h3>
<p >Stops the queue. can be resumed with <code>q.start()</code>.</p>
<h3><a class="anchor" id="autotoc_md2580"></a>
&lt;tt&gt;q.end([err])&lt;/tt&gt;</h3>
<p >Stop and empty the queue immediately.</p>
<h2><a class="anchor" id="autotoc_md2581"></a>
Instance methods mixed in from &lt;tt&gt;Array&lt;/tt&gt;</h2>
<p >Mozilla has docs on how these methods work <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">here</a>. Note that <code>slice</code> does not copy the queue. </p>
<h3><a class="anchor" id="autotoc_md2582"></a>
&lt;tt&gt;q.push(element1, ..., elementN)&lt;/tt&gt;</h3>
<h3><a class="anchor" id="autotoc_md2583"></a>
&lt;tt&gt;q.unshift(element1, ..., elementN)&lt;/tt&gt;</h3>
<h3><a class="anchor" id="autotoc_md2584"></a>
&lt;tt&gt;q.splice(index , howMany[, element1[, ...[, elementN]]])&lt;/tt&gt;</h3>
<h3><a class="anchor" id="autotoc_md2585"></a>
&lt;tt&gt;q.pop()&lt;/tt&gt;</h3>
<h3><a class="anchor" id="autotoc_md2586"></a>
&lt;tt&gt;q.shift()&lt;/tt&gt;</h3>
<h3><a class="anchor" id="autotoc_md2587"></a>
&lt;tt&gt;q.slice(begin[, end])&lt;/tt&gt;</h3>
<h3><a class="anchor" id="autotoc_md2588"></a>
&lt;tt&gt;q.reverse()&lt;/tt&gt;</h3>
<h3><a class="anchor" id="autotoc_md2589"></a>
&lt;tt&gt;q.indexOf(searchElement[, fromIndex])&lt;/tt&gt;</h3>
<h3><a class="anchor" id="autotoc_md2590"></a>
&lt;tt&gt;q.lastIndexOf(searchElement[, fromIndex])&lt;/tt&gt;</h3>
<h2><a class="anchor" id="autotoc_md2591"></a>
Properties</h2>
<h3><a class="anchor" id="autotoc_md2592"></a>
&lt;tt&gt;q.concurrency&lt;/tt&gt;</h3>
<p >Max number of jobs the queue should process concurrently, defaults to <code>Infinity</code>.</p>
<h3><a class="anchor" id="autotoc_md2593"></a>
&lt;tt&gt;q.timeout&lt;/tt&gt;</h3>
<p >Milliseconds to wait for a job to execute its callback. This can be overridden by specifying a <code>timeout</code> property on a per-job basis.</p>
<h3><a class="anchor" id="autotoc_md2594"></a>
&lt;tt&gt;q.autostart&lt;/tt&gt;</h3>
<p >Ensures the queue is always running if jobs are available. Useful in situations where you are using a queue only for concurrency control.</p>
<h3><a class="anchor" id="autotoc_md2595"></a>
&lt;tt&gt;q.results&lt;/tt&gt;</h3>
<p >An array to set job callback arguments on.</p>
<h3><a class="anchor" id="autotoc_md2596"></a>
&lt;tt&gt;q.length&lt;/tt&gt;</h3>
<p >Jobs pending + jobs to process (readonly).</p>
<h2><a class="anchor" id="autotoc_md2597"></a>
Events</h2>
<h3><a class="anchor" id="autotoc_md2598"></a>
‘q.emit('start’, job)`</h3>
<p >Immediately before a job begins to execute.</p>
<h3><a class="anchor" id="autotoc_md2599"></a>
‘q.emit('success’, result, job)`</h3>
<p >After a job executes its callback.</p>
<h3><a class="anchor" id="autotoc_md2600"></a>
‘q.emit('error’, err, job)`</h3>
<p >After a job passes an error to its callback.</p>
<h3><a class="anchor" id="autotoc_md2601"></a>
‘q.emit('timeout’, continue, job)&lt;tt&gt;</h3>
<p >Afterq.timeout` milliseconds have elapsed and a job has not executed its callback.</p>
<h3><a class="anchor" id="autotoc_md2602"></a>
‘q.emit('end’[, err])`</h3>
<p >After all jobs have been processed</p>
<h2><a class="anchor" id="autotoc_md2603"></a>
Releases</h2>
<p >The latest stable release is published to <a href="http://npmjs.org/queue">npm</a>. Abbreviated changelog below:</p><ul>
<li><a href="https://github.com/jessetane/queue/archive/6.0.1.tar.gz">6.0</a><ul>
<li>Add <code>start</code> event before job begins (@joelgriffith)</li>
<li>Add <code>timeout</code> property on a job to override the queue's timeout (@joelgriffith)</li>
</ul>
</li>
<li><a href="https://github.com/jessetane/queue/archive/5.0.0.tar.gz">5.0</a><ul>
<li>Updated TypeScript bindings (@Codex-)</li>
</ul>
</li>
<li><a href="https://github.com/jessetane/queue/archive/4.4.0.tar.gz">4.4</a><ul>
<li>Add results feature</li>
</ul>
</li>
<li><a href="https://github.com/jessetane/queue/archive/4.3.0.tar.gz">4.3</a><ul>
<li>Add promise support (@kwolfy)</li>
</ul>
</li>
<li><a href="https://github.com/jessetane/queue/archive/4.2.0.tar.gz">4.2</a><ul>
<li>Unref timers on end</li>
</ul>
</li>
<li><a href="https://github.com/jessetane/queue/archive/4.1.0.tar.gz">4.1</a><ul>
<li>Add autostart feature</li>
</ul>
</li>
<li><a href="https://github.com/jessetane/queue/archive/4.0.0.tar.gz">4.0</a><ul>
<li>Change license to MIT</li>
</ul>
</li>
<li><a href="https://github.com/jessetane/queue/archive/3.0.6.tar.gz">3.1.x</a><ul>
<li>Add .npmignore</li>
</ul>
</li>
<li><a href="https://github.com/jessetane/queue/archive/3.0.6.tar.gz">3.0.x</a><ul>
<li>Change the default concurrency to <code>Infinity</code></li>
<li>Allow <code>q.start()</code> to accept an optional callback executed on &lsquo;q.emit('end&rsquo;)`</li>
</ul>
</li>
<li><a href="https://github.com/jessetane/queue/archive/2.2.0.tar.gz">2.x</a><ul>
<li>Major api changes / not backwards compatible with 1.x</li>
</ul>
</li>
<li><a href="https://github.com/jessetane/queue/archive/1.0.2.tar.gz">1.x</a><ul>
<li>Early prototype</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md2604"></a>
License</h2>
<p >Copyright © 2014 Jesse Tane <a href="#" onclick="location.href='mai'+'lto:'+'jes'+'se'+'.ta'+'ne'+'@gm'+'ai'+'l.c'+'om'; return false;">jesse<span class="obfuscator">.nosp@m.</span>.tan<span class="obfuscator">.nosp@m.</span>e@gma<span class="obfuscator">.nosp@m.</span>il.c<span class="obfuscator">.nosp@m.</span>om</a></p>
<p >This work is free. You can redistribute it and/or modify it under the terms of the <a href="https://opensource.org/licenses/MIT">MIT License</a>. See LICENSE for full details. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
