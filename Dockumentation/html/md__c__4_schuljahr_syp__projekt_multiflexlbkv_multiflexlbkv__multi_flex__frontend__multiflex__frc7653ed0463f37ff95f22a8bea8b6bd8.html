<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Multiflex: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Multiflex
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">README </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="roarr"></a> </p>
<h1><a class="anchor" id="autotoc_md2642"></a>
Roarr</h1>
<p ><a href="https://gitspo.com/mentions/gajus/roarr"><img src="https://gitspo.com/badges/mentions/gajus/roarr?style=flat-square" alt="GitSpo Mentions" class="inline"/></a> <a href="https://travis-ci.org/gajus/roarr"><img src="http://img.shields.io/travis/gajus/roarr/master.svg?style=flat-square" alt="Travis build status" style="pointer-events: none;" class="inline"/></a> <a href="https://coveralls.io/github/gajus/roarr"><img src="https://img.shields.io/coveralls/gajus/roarr.svg?style=flat-square" alt="Coveralls" style="pointer-events: none;" class="inline"/></a> <a href="https://www.npmjs.org/package/roarr"><img src="http://img.shields.io/npm/v/roarr.svg?style=flat-square" alt="NPM version" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/gajus/canonical"><img src="https://img.shields.io/badge/code%20style-canonical-blue.svg?style=flat-square" alt="Canonical Code Style" style="pointer-events: none;" class="inline"/></a> <a href="https://twitter.com/kuizinas"><img src="https://img.shields.io/twitter/follow/kuizinas.svg?style=social&amp;label=Follow" alt="Twitter Follow" style="pointer-events: none;" class="inline"/></a></p>
<p >JSON logger for Node.js and browser.</p>
<ul>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr">Roarr</a><ul>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-motivation">Motivation</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-usage">Usage</a><ul>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-usage-producing-logs">Producing logs</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-usage-consuming-logs">Consuming logs</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-usage-filtering-logs">Filtering logs</a></li>
</ul>
</li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-log-message-format">Log message format</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-api">API</a><ul>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-api-adopt">`adopt`</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-api-child">`child`</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-api-getcontext">`getContext`</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-api-trace">`trace`</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-api-debug">`debug`</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-api-info">`info`</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-api-warn">`warn`</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-api-error">`error`</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-api-fatal">`fatal`</a></li>
</ul>
</li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-middlewares">Middlewares</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-cli-program">CLI program</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-transports">Transports</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-node-js-environment-variables">Node.js environment variables</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-conventions">Conventions</a><ul>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-conventions-context-property-names">Context property names</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-conventions-using-roarr-in-an-application">Using Roarr in an application</a></li>
</ul>
</li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-recipes">Recipes</a><ul>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-recipes-logging-errors">Logging errors</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-recipes-using-with-elasticsearch">Using with Elasticsearch</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-recipes-using-with-scalyr">Using with Scalyr</a></li>
<li><a class="el" href="md__c__4_schuljahr_syp__projekt_multiflexlbkv_multiflexlbkv__multi_flex__frontend__multiflex__frc7653ed0463f37ff95f22a8bea8b6bd8.html#roarr-recipes-documenting-use-of-roarr">Documenting use of Roarr</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p ><a class="anchor" id="roarr-motivation"></a> </p>
<h2><a class="anchor" id="autotoc_md2643"></a>
Motivation</h2>
<p >For a long time I have been a big fan of using <a href="https://github.com/visionmedia/debug"><code>debug</code></a>. <code>debug</code> is simple to use, works in Node.js and browser, does not require configuration and it is fast. However, problems arise when you need to parse logs. Anything but one-line text messages cannot be parsed in a safe way.</p>
<p >To log structured data, I have been using <a href="https://github.com/winstonjs/winston">Winston</a> and <a href="https://github.com/trentm/node-bunyan">Bunyan</a>. These packages are great for application-level logging. I have preferred Bunyan because of the <a href="https://github.com/trentm/node-bunyan#cli-usage">Bunyan CLI program</a> used to pretty-print logs. However, these packages require program-level configuration – when constructing an instance of a logger, you need to define the transport and the log-level. This makes them unsuitable for use in code designed to be consumed by other applications.</p>
<p >Then there is <a href="https://github.com/pinojs/pino">pino</a>. pino is fast JSON logger, it has CLI program equivalent to Bunyan, it decouples transports, and it has sane default configuration. Unfortunately, you still need to instantiate logger instance at the application-level. This makes it more suitable for application-level logging just like Winston and Bunyan.</p>
<p >I needed a logger that:</p>
<ul>
<li>Does not block the event cycle (=fast).</li>
<li>Does not require initialisation.</li>
<li>Produces structured data.</li>
<li>Decouples transports.</li>
<li>Has a CLI program.</li>
<li>Works in Node.js and browser.</li>
<li>Configurable using environment variables.</li>
</ul>
<p >In other words,</p>
<ul>
<li>a logger that I can use in an application code and in dependencies.</li>
<li>a logger that allows to correlate logs between the main application code and the dependency code.</li>
<li>a logger that works well with transports in external processes.</li>
</ul>
<p >Roarr is this logger.</p>
<p ><a class="anchor" id="roarr-usage"></a> </p>
<h2><a class="anchor" id="autotoc_md2644"></a>
Usage</h2>
<p ><a class="anchor" id="roarr-usage-producing-logs"></a> </p>
<h3><a class="anchor" id="autotoc_md2645"></a>
Producing logs</h3>
<p >Roarr logger API for producing logs is the same in Node.js and browser.</p>
<ol type="1">
<li>Import <code>roarr</code></li>
<li>Use any of the API methods to log messages.</li>
</ol>
<p >Example:</p>
<div class="fragment"><div class="line">import log from &#39;roarr&#39;;</div>
<div class="line"> </div>
<div class="line">log(&#39;foo&#39;);</div>
</div><!-- fragment --><p ><a class="anchor" id="roarr-usage-consuming-logs"></a> </p>
<h3><a class="anchor" id="autotoc_md2646"></a>
Consuming logs</h3>
<p >Roarr logs are consumed differently in Node.js and browser.</p>
<p ><a class="anchor" id="roarr-usage-consuming-logs-node-js"></a> </p>
<h4><a class="anchor" id="autotoc_md2647"></a>
Node.js</h4>
<p >In Node.js, Roarr logging is disabled by default. To enable logging, you must start program with an environment variable <code>ROARR_LOG</code> set to <code>true</code>, e.g.</p>
<div class="fragment"><div class="line">ROARR_LOG=true node ./index.js</div>
</div><!-- fragment --><p >All logs will be written to stdout.</p>
<p ><a class="anchor" id="roarr-usage-consuming-logs-browser"></a> </p>
<h4><a class="anchor" id="autotoc_md2648"></a>
Browser</h4>
<p >In a browser, you must implement <code>ROARR.write</code> method to read logs, e.g.</p>
<div class="fragment"><div class="line">import {</div>
<div class="line">  ROARR,</div>
<div class="line">} from &#39;roarr&#39;;</div>
<div class="line"> </div>
<div class="line">ROARR.write = () =&gt; {};</div>
</div><!-- fragment --><p >The API of the <code>ROARR.write</code> is:</p>
<div class="fragment"><div class="line">(message: string) =&gt; void;</div>
</div><!-- fragment --><p >Example implementation:</p>
<div class="fragment"><div class="line">import {</div>
<div class="line">  ROARR,</div>
<div class="line">} from &#39;roarr&#39;;</div>
<div class="line"> </div>
<div class="line">ROARR.write = (message) =&gt; {</div>
<div class="line">  console.log(JSON.parse(message));</div>
<div class="line">};</div>
</div><!-- fragment --><p >or if you are initializing <code>ROARR.write</code> <em>before</em> <code>roarr</code> is loaded:</p>
<div class="fragment"><div class="line">// Ensure that `globalThis.ROARR` is configured.</div>
<div class="line">const ROARR = globalThis.ROARR = globalThis.ROARR || {};</div>
<div class="line"> </div>
<div class="line">ROARR.write = (message) =&gt; {</div>
<div class="line">  console.log(JSON.parse(message));</div>
<div class="line">};</div>
</div><!-- fragment --><p >If your platform does not support <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/globalThis"><code>globalThis</code></a>, use <a href="https://www.npmjs.com/package/globalthis"><code>globalthis</code> polyfill</a>.</p>
<p ><a class="anchor" id="roarr-usage-filtering-logs"></a> </p>
<h3><a class="anchor" id="autotoc_md2649"></a>
Filtering logs</h3>
<p ><a class="anchor" id="roarr-usage-filtering-logs-node-js-1"></a> </p>
<h4><a class="anchor" id="autotoc_md2650"></a>
Node.js</h4>
<p >In Node.js, Roarr prints all or none logs (refer to the `ROARR_LOG` environment variable documentation).</p>
<p >Use `roarr filter` CLI program to filter the logs that are written to stdout by the program, e.g.</p>
<div class="fragment"><div class="line">ROARR_LOG=true node ./index.js | roarr filter &#39;{&quot;context.logLevel&quot;:{gt:30}}&#39;</div>
</div><!-- fragment --><p >Alternatively, use a JSON processor such as <a href="https://stedolan.github.io/jq/">jq</a></p>
<p ><a class="anchor" id="roarr-usage-filtering-logs-browser-1"></a> </p>
<h4><a class="anchor" id="autotoc_md2651"></a>
Browser</h4>
<p >In a browser, Roarr calls <code>globalThis.ROARR.write</code> for every log message. Implement your own custom logic to filter logs, e.g.</p>
<div class="fragment"><div class="line">globalThis.ROARR.write = (message) =&gt; {</div>
<div class="line">  const payload = JSON.parse(message);</div>
<div class="line"> </div>
<div class="line">  if (payload.context.logLevel &gt; 30) {</div>
<div class="line">    console.log(payload);</div>
<div class="line">  }</div>
<div class="line">};</div>
</div><!-- fragment --><p ><a class="anchor" id="roarr-log-message-format"></a> </p>
<h2><a class="anchor" id="autotoc_md2652"></a>
Log message format</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Property name   </th><th class="markdownTableHeadNone">Contents    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>context</code>   </td><td class="markdownTableBodyNone">Arbitrary, user-provided structured data. See context property names.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>message</code>   </td><td class="markdownTableBodyNone">User-provided message formatted using <a href="https://en.wikipedia.org/wiki/Printf_format_string">printf</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>sequence</code>   </td><td class="markdownTableBodyNone">An incremental ID.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>time</code>   </td><td class="markdownTableBodyNone">Unix timestamp in milliseconds.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>version</code>   </td><td class="markdownTableBodyNone">Roarr log message format version.   </td></tr>
</table>
<p >Example:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;context&quot;: {</div>
<div class="line">    &quot;application&quot;: &quot;task-runner&quot;,</div>
<div class="line">    &quot;hostname&quot;: &quot;curiosity.local&quot;,</div>
<div class="line">    &quot;instanceId&quot;: &quot;01BVBK4ZJQ182ZWF6FK4EC8FEY&quot;,</div>
<div class="line">    &quot;taskId&quot;: 1</div>
<div class="line">  },</div>
<div class="line">  &quot;message&quot;: &quot;starting task ID 1&quot;,</div>
<div class="line">  &quot;sequence&quot;: 0,</div>
<div class="line">  &quot;time&quot;: 1506776210000,</div>
<div class="line">  &quot;version&quot;: &quot;1.0.0&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p ><a class="anchor" id="roarr-api"></a> </p>
<h2><a class="anchor" id="autotoc_md2653"></a>
API</h2>
<p ><code>roarr</code> package exports a function with the following API:</p>
<div class="fragment"><div class="line">export type LoggerType =</div>
<div class="line">  (</div>
<div class="line">    context: MessageContextType,</div>
<div class="line">    message: string,</div>
<div class="line">    c?: SprintfArgumentType,</div>
<div class="line">    d?: SprintfArgumentType,</div>
<div class="line">    e?: SprintfArgumentType,</div>
<div class="line">    f?: SprintfArgumentType,</div>
<div class="line">    g?: SprintfArgumentType,</div>
<div class="line">    h?: SprintfArgumentType,</div>
<div class="line">    i?: SprintfArgumentType,</div>
<div class="line">    k?: SprintfArgumentType</div>
<div class="line">  ) =&gt; void |</div>
<div class="line">  (</div>
<div class="line">    message: string,</div>
<div class="line">    b?: SprintfArgumentType,</div>
<div class="line">    c?: SprintfArgumentType,</div>
<div class="line">    d?: SprintfArgumentType,</div>
<div class="line">    e?: SprintfArgumentType,</div>
<div class="line">    f?: SprintfArgumentType,</div>
<div class="line">    g?: SprintfArgumentType,</div>
<div class="line">    h?: SprintfArgumentType,</div>
<div class="line">    i?: SprintfArgumentType,</div>
<div class="line">    k?: SprintfArgumentType</div>
<div class="line">  ) =&gt; void;</div>
</div><!-- fragment --><p >To put it into words:</p>
<ul>
<li>First parameter can be either a string (message) or an object.<ul>
<li>If first parameter is an object (context), the second parameter must be a string (message).</li>
</ul>
</li>
<li>Arguments after the message parameter are used to enable <a href="https://en.wikipedia.org/wiki/Printf_format_string">printf message formatting</a>.<ul>
<li>Printf arguments must be of a primitive type (<code>string | number | boolean | null</code>).</li>
<li>There can be up to 9 printf arguments (or 8 if the first parameter is the context object).</li>
</ul>
</li>
</ul>
<p >Refer to the Usage documentation for common usage examples.</p>
<p ><a class="anchor" id="roarr-api-adopt"></a> </p>
<h3><a class="anchor" id="autotoc_md2654"></a>
&lt;code&gt;adopt&lt;/code&gt;</h3>
<div class="fragment"><div class="line">&lt;T&gt;(routine: () =&gt; Promise&lt;T&gt;, context: MessageContextType) =&gt; Promise&lt;T&gt;,</div>
</div><!-- fragment --><p ><code>adopt</code> function uses Node.js <a href="https://nodejs.org/api/domain.html"><code>domain</code></a> to pass-down context properties.</p>
<p >When using <code>adopt</code>, context properties will be added to all <em>all</em> Roarr messages within the same asynchronous context, e.g.</p>
<div class="fragment"><div class="line">await log.adopt(</div>
<div class="line">  async () =&gt; {</div>
<div class="line">    log(&#39;foo 0&#39;);</div>
<div class="line"> </div>
<div class="line">    await log.adopt(</div>
<div class="line">      () =&gt; {</div>
<div class="line">        log(&#39;foo 1&#39;);</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        baz: &#39;baz 1&#39;,</div>
<div class="line">      },</div>
<div class="line">    );</div>
<div class="line">  },</div>
<div class="line">  {</div>
<div class="line">    bar: &#39;bar 0&#39;,</div>
<div class="line">  },</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line">// {&quot;context&quot;:{&quot;bar&quot;:&quot;bar 0&quot;},&quot;message&quot;:&quot;foo 0&quot;,&quot;sequence&quot;:0,&quot;time&quot;:1531914656076,&quot;version&quot;:&quot;1.0.0&quot;}</div>
<div class="line">// {&quot;context&quot;:{&quot;bar&quot;:&quot;bar 0&quot;,&quot;baz&quot;:&quot;baz 1&quot;},&quot;message&quot;:&quot;foo 1&quot;,&quot;sequence&quot;:1,&quot;time&quot;:1531914656077,&quot;version&quot;:&quot;1.0.0&quot;}]</div>
</div><!-- fragment --><p ><a class="anchor" id="roarr-api-adopt-requirements"></a> </p>
<h4><a class="anchor" id="autotoc_md2655"></a>
Requirements</h4>
<ul>
<li><code>adopt</code> method only works in Node.js.</li>
<li>You must shim Node.js using <a href="https://github.com/gajus/domain-parent"><code>domain-parent</code></a>.</li>
</ul>
<p ><a class="anchor" id="roarr-api-child"></a> </p>
<h3><a class="anchor" id="autotoc_md2656"></a>
&lt;code&gt;child&lt;/code&gt;</h3>
<div class="fragment"><div class="line">(context: TranslateMessageFunctionType | MessageContextType) =&gt; LoggerType,</div>
</div><!-- fragment --><p >The <code>child</code> function has two signatures:</p>
<ol type="1">
<li>Accepts an object.</li>
<li>Accepts a function.</li>
</ol>
<p ><a class="anchor" id="roarr-api-child-object-parameter"></a> </p>
<h4><a class="anchor" id="autotoc_md2657"></a>
Object parameter</h4>
<div class="fragment"><div class="line">(context: MessageContextType) =&gt; LoggerType;</div>
</div><!-- fragment --><p >Creates a child logger appending the provided <code>context</code> object to the previous logger context.</p>
<p >Example:</p>
<div class="fragment"><div class="line">import log from &#39;roarr&#39;;</div>
<div class="line"> </div>
<div class="line">const childLog = log.child({</div>
<div class="line">  foo: &#39;bar&#39;</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">log.debug(&#39;foo 1&#39;);</div>
<div class="line">childLog.debug(&#39;foo 2&#39;);</div>
<div class="line"> </div>
<div class="line">// {&quot;context&quot;:{&quot;logLevel&quot;:20},&quot;message&quot;:&quot;foo 1&quot;,&quot;sequence&quot;:0,&quot;time&quot;:1531914529921,&quot;version&quot;:&quot;1.0.0&quot;}</div>
<div class="line">// {&quot;context&quot;:{&quot;foo&quot;:&quot;bar&quot;,&quot;logLevel&quot;:20},&quot;message&quot;:&quot;foo 2&quot;,&quot;sequence&quot;:1,&quot;time&quot;:1531914529922,&quot;version&quot;:&quot;1.0.0&quot;}</div>
</div><!-- fragment --><p >Refer to middlewares documentation for use case examples.</p>
<p ><a class="anchor" id="roarr-api-child-function-parameter"></a> </p>
<h4><a class="anchor" id="autotoc_md2658"></a>
Function parameter</h4>
<div class="fragment"><div class="line">(translateMessage: TranslateMessageFunctionType) =&gt; LoggerType;</div>
</div><!-- fragment --><p >Creates a child logger where every message is intercepted.</p>
<p >Example:</p>
<div class="fragment"><div class="line">import log from &#39;roarr&#39;;</div>
<div class="line"> </div>
<div class="line">const childLog = log.child((message) =&gt; {</div>
<div class="line">  return {</div>
<div class="line">    ...message,</div>
<div class="line">    message: message.message.replace(&#39;foo&#39;, &#39;bar&#39;),</div>
<div class="line">  }</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">log.debug(&#39;foo 1&#39;);</div>
<div class="line">childLog.debug(&#39;foo 2&#39;);</div>
<div class="line"> </div>
<div class="line">// {&quot;context&quot;:{&quot;logLevel&quot;:20},&quot;message&quot;:&quot;foo 1&quot;,&quot;sequence&quot;:0,&quot;time&quot;:1531914656076,&quot;version&quot;:&quot;1.0.0&quot;}</div>
<div class="line">// {&quot;context&quot;:{&quot;logLevel&quot;:20},&quot;message&quot;:&quot;bar 2&quot;,&quot;sequence&quot;:1,&quot;time&quot;:1531914656077,&quot;version&quot;:&quot;1.0.0&quot;}</div>
</div><!-- fragment --><p ><a class="anchor" id="roarr-api-getcontext"></a> </p>
<h3><a class="anchor" id="autotoc_md2659"></a>
&lt;code&gt;getContext&lt;/code&gt;</h3>
<p >Returns the current context.</p>
<p >Example:</p>
<div class="fragment"><div class="line">import log from &#39;roarr&#39;;</div>
<div class="line"> </div>
<div class="line">const childLogger = log.child({</div>
<div class="line">  foo: &#39;bar&#39;</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">childLogger.getContext();</div>
<div class="line"> </div>
<div class="line">// {foo: &#39;bar&#39;}</div>
</div><!-- fragment --><p ><a class="anchor" id="roarr-api-trace"></a> </p>
<h3><a class="anchor" id="autotoc_md2660"></a>
&lt;code&gt;trace&lt;/code&gt;</h3>
<p ><a class="anchor" id="roarr-api-debug"></a> </p>
<h3><a class="anchor" id="autotoc_md2661"></a>
&lt;code&gt;debug&lt;/code&gt;</h3>
<p ><a class="anchor" id="roarr-api-info"></a> </p>
<h3><a class="anchor" id="autotoc_md2662"></a>
&lt;code&gt;info&lt;/code&gt;</h3>
<p ><a class="anchor" id="roarr-api-warn"></a> </p>
<h3><a class="anchor" id="autotoc_md2663"></a>
&lt;code&gt;warn&lt;/code&gt;</h3>
<p ><a class="anchor" id="roarr-api-error"></a> </p>
<h3><a class="anchor" id="autotoc_md2664"></a>
&lt;code&gt;error&lt;/code&gt;</h3>
<p ><a class="anchor" id="roarr-api-fatal"></a> </p>
<h3><a class="anchor" id="autotoc_md2665"></a>
&lt;code&gt;fatal&lt;/code&gt;</h3>
<p >Convenience methods for logging a message with <code>logLevel</code> context property value set to a numeric value representing the log level, e.g.</p>
<div class="fragment"><div class="line">import log from &#39;roarr&#39;;</div>
<div class="line"> </div>
<div class="line">log.trace(&#39;foo&#39;);</div>
<div class="line">log.debug(&#39;foo&#39;);</div>
<div class="line">log.info(&#39;foo&#39;);</div>
<div class="line">log.warn(&#39;foo&#39;);</div>
<div class="line">log.error(&#39;foo&#39;);</div>
<div class="line">log.fatal(&#39;foo&#39;);</div>
</div><!-- fragment --><p >Produces output:</p>
<div class="fragment"><div class="line">{&quot;context&quot;:{&quot;logLevel&quot;:10},&quot;message&quot;:&quot;foo&quot;,&quot;sequence&quot;:0,&quot;time&quot;:1506776210000,&quot;version&quot;:&quot;1.0.0&quot;}</div>
<div class="line">{&quot;context&quot;:{&quot;logLevel&quot;:20},&quot;message&quot;:&quot;foo&quot;,&quot;sequence&quot;:1,&quot;time&quot;:1506776210000,&quot;version&quot;:&quot;1.0.0&quot;}</div>
<div class="line">{&quot;context&quot;:{&quot;logLevel&quot;:30},&quot;message&quot;:&quot;foo&quot;,&quot;sequence&quot;:2,&quot;time&quot;:1506776210000,&quot;version&quot;:&quot;1.0.0&quot;}</div>
<div class="line">{&quot;context&quot;:{&quot;logLevel&quot;:40},&quot;message&quot;:&quot;foo&quot;,&quot;sequence&quot;:3,&quot;time&quot;:1506776210000,&quot;version&quot;:&quot;1.0.0&quot;}</div>
<div class="line">{&quot;context&quot;:{&quot;logLevel&quot;:50},&quot;message&quot;:&quot;foo&quot;,&quot;sequence&quot;:4,&quot;time&quot;:1506776210000,&quot;version&quot;:&quot;1.0.0&quot;}</div>
<div class="line">{&quot;context&quot;:{&quot;logLevel&quot;:60},&quot;message&quot;:&quot;foo&quot;,&quot;sequence&quot;:5,&quot;time&quot;:1506776210000,&quot;version&quot;:&quot;1.0.0&quot;}</div>
</div><!-- fragment --><p ><a class="anchor" id="roarr-middlewares"></a> </p>
<h2><a class="anchor" id="autotoc_md2666"></a>
Middlewares</h2>
<p >Roarr logger supports middlewares implemented as `child` message translate functions, e.g.</p>
<div class="fragment"><div class="line">import log from &#39;roarr&#39;;</div>
<div class="line">import createSerializeErrorMiddleware from &#39;@roarr/middleware-serialize-error&#39;;</div>
<div class="line"> </div>
<div class="line">const childLog = log.child(createSerializeErrorMiddleware());</div>
<div class="line"> </div>
<div class="line">const error = new Error(&#39;foo&#39;);</div>
<div class="line"> </div>
<div class="line">log.debug({error}, &#39;bar&#39;);</div>
<div class="line">childLog.debug({error}, &#39;bar&#39;);</div>
<div class="line"> </div>
<div class="line">// {&quot;context&quot;:{&quot;logLevel&quot;:20,&quot;error&quot;:{}},&quot;message&quot;:&quot;bar&quot;,&quot;sequence&quot;:0,&quot;time&quot;:1531918373676,&quot;version&quot;:&quot;1.0.0&quot;}</div>
<div class="line">// {&quot;context&quot;:{&quot;logLevel&quot;:20,&quot;error&quot;:{&quot;name&quot;:&quot;Error&quot;,&quot;message&quot;:&quot;foo&quot;,&quot;stack&quot;:&quot;[REDACTED]&quot;}},&quot;message&quot;:&quot;bar&quot;,&quot;sequence&quot;:1,&quot;time&quot;:1531918373678,&quot;version&quot;:&quot;1.0.0&quot;}</div>
</div><!-- fragment --><p >Roarr middlwares enable translation of every bit of information that is used to construct a log message.</p>
<p >The following are the official middlewares:</p>
<ul>
<li><a href="https://github.com/gajus/roarr-middleware-serialize-error"><code>@roarr/middleware-serialize-error</code></a></li>
</ul>
<p >Raise an issue to add your middleware of your own creation.</p>
<p ><a class="anchor" id="roarr-cli-program"></a> </p>
<h2><a class="anchor" id="autotoc_md2667"></a>
CLI program</h2>
<p >Roarr CLI program provides ability to filter and pretty-print Roarr logs.</p>
<p ><img src="./.README/cli-output-demo.png" alt="CLI output demo" class="inline"/></p>
<p >CLI program has been moved to a separate package <a href="https://github.com/gajus/roarr-cli"><code>@roarr/cli</code></a>.</p>
<div class="fragment"><div class="line">npm install @roarr/cli -g</div>
</div><!-- fragment --><p >Explore all CLI commands and options using <code>roarr --help</code> or refer to <a href="https://github.com/gajus/roarr-cli"><code>@roarr/cli</code></a> documentation.</p>
<p ><a class="anchor" id="roarr-transports"></a> </p>
<h2><a class="anchor" id="autotoc_md2668"></a>
Transports</h2>
<p >A transport in most logging libraries is something that runs in-process to perform some operation with the finalised log line. For example, a transport might send the log line to a standard syslog server after processing the log line and reformatting it.</p>
<p >Roarr does not support in-process transports.</p>
<p >Roarr does not support in-process transports because Node processes are single threaded processes (ignoring some technical details). Given this restriction, Roarr purposefully offloads handling of the logs to external processes so that the threading capabilities of the OS can be used (or other CPUs).</p>
<p >Depending on your configuration, consider one of the following log transports:</p>
<ul>
<li><a href="https://www.elastic.co/products/beats">Beats</a> for aggregating at a process level (written in Go).</li>
<li><a href="https://github.com/sematext/logagent-js">logagent</a> for aggregating at a process level (written in JavaScript).</li>
<li><a href="https://www.fluentd.org/">Fluentd</a> for aggregating logs at a container orchestration level (e.g. Kubernetes) (written in Ruby).</li>
</ul>
<p ><a class="anchor" id="roarr-node-js-environment-variables"></a> </p>
<h2><a class="anchor" id="autotoc_md2669"></a>
Node.js environment variables</h2>
<p >Use environment variables to control <code>roarr</code> behaviour.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Function   </th><th class="markdownTableHeadNone">Default    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ROARR_LOG</code>   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Enables/ disables logging.   </td><td class="markdownTableBodyNone"><code>false</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ROARR_STREAM</code>   </td><td class="markdownTableBodyNone"><code>STDOUT</code>, <code>STDERR</code>   </td><td class="markdownTableBodyNone">Name of the stream where the logs will be written.   </td><td class="markdownTableBodyNone"><code>STDOUT</code>   </td></tr>
</table>
<p >When using <code>ROARR_STREAM=STDERR</code>, use <a href="https://stackoverflow.com/a/2381643/368691"><code>3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;-</code></a> to pipe stderr output.</p>
<p ><a class="anchor" id="roarr-conventions"></a> </p>
<h2><a class="anchor" id="autotoc_md2670"></a>
Conventions</h2>
<p ><a class="anchor" id="roarr-conventions-context-property-names"></a> </p>
<h3><a class="anchor" id="autotoc_md2671"></a>
Context property names</h3>
<p >Roarr does not have reserved context property names. However, I encourage use of the following conventions:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Context property name   </th><th class="markdownTableHeadNone">Use case    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>application</code>   </td><td class="markdownTableBodyNone">Name of the application (do not use in code intended for distribution; see <code>package</code> property instead).    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>logLevel</code>   </td><td class="markdownTableBodyNone">A numeric value indicating the log level. See API for the build-in loggers with a pre-set log-level.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>namespace</code>   </td><td class="markdownTableBodyNone">Namespace within a package, e.g. function name. Treat the same way that you would construct namespaces when using the <a href="https://github.com/visionmedia/debug"><code>debug</code></a> package.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>package</code>   </td><td class="markdownTableBodyNone">Name of the NPM package.   </td></tr>
</table>
<p >The <code>roarr pretty-print</code> CLI program is using the context property names suggested in the conventions to pretty-print the logs for the developer inspection purposes.</p>
<p ><a class="anchor" id="roarr-conventions-context-property-names-log-levels"></a> </p>
<h4><a class="anchor" id="autotoc_md2672"></a>
Log levels</h4>
<p >The <code>roarr pretty-print</code> CLI program translates <code>logLevel</code> values to the following human-readable names:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><code>logLevel</code>   </th><th class="markdownTableHeadNone">Human-readable name    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">10   </td><td class="markdownTableBodyNone">TRACE    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">20   </td><td class="markdownTableBodyNone">DEBUG    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">30   </td><td class="markdownTableBodyNone">INFO    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">40   </td><td class="markdownTableBodyNone">WARN    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">50   </td><td class="markdownTableBodyNone">ERROR    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">60   </td><td class="markdownTableBodyNone">FATAL   </td></tr>
</table>
<p ><a class="anchor" id="roarr-conventions-using-roarr-in-an-application"></a> </p>
<h3><a class="anchor" id="autotoc_md2673"></a>
Using Roarr in an application</h3>
<p >To avoid code duplication, you can use a singleton pattern to export a logger instance with predefined context properties (e.g. describing the application).</p>
<p >I recommend to create a file <code>Logger.js</code> in the project directory. Inside this file create and export a child instance of Roarr with context parameters describing the project and the script instance, e.g.</p>
<div class="fragment"><div class="line">/**</div>
<div class="line"> * @file Example contents of a Logger.js file.</div>
<div class="line"> */</div>
<div class="line"> </div>
<div class="line">import log from &#39;roarr&#39;;</div>
<div class="line"> </div>
<div class="line">const Logger = log.child({</div>
<div class="line">  // .foo property is going to appear only in the logs that are created using</div>
<div class="line">  // the current instance of a Roarr logger.</div>
<div class="line">  foo: &#39;bar&#39;</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">export default Logger;</div>
</div><!-- fragment --><p >Roarr does not have reserved context property names. However, I encourage use of the conventions.</p>
<p ><a class="anchor" id="roarr-recipes"></a> </p>
<h2><a class="anchor" id="autotoc_md2674"></a>
Recipes</h2>
<p ><a class="anchor" id="roarr-recipes-logging-errors"></a> </p>
<h3><a class="anchor" id="autotoc_md2675"></a>
Logging errors</h3>
<p >This is not specific to Roarr – this suggestion applies to any kind of logging.</p>
<p >If you want to include an instance of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error"><code>Error</code></a> in the context, you must serialize the error.</p>
<p >The least-error prone way to do this is to use an existing library, e.g. <a href="https://www.npmjs.com/package/serialize-error"><code>serialize-error</code></a>.</p>
<div class="fragment"><div class="line">import log from &#39;roarr&#39;;</div>
<div class="line">import serializeError from &#39;serialize-error&#39;;</div>
<div class="line"> </div>
<div class="line">// [..]</div>
<div class="line"> </div>
<div class="line">send((error, result) =&gt; {</div>
<div class="line">  if (error) {</div>
<div class="line">    log.error({</div>
<div class="line">      error: serializeError(error)</div>
<div class="line">    }, &#39;message not sent due to a remote error&#39;);</div>
<div class="line"> </div>
<div class="line">    return;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  // [..]</div>
<div class="line">});</div>
</div><!-- fragment --><p >Without using serialisation, your errors will be logged without the error name and stack trace.</p>
<p ><a class="anchor" id="roarr-recipes-using-with-elasticsearch"></a> </p>
<h3><a class="anchor" id="autotoc_md2676"></a>
Using with Elasticsearch</h3>
<p >If you are using <a href="https://www.elastic.co/products/elasticsearch">Elasticsearch</a>, you will want to create an <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-templates.html">index template</a>.</p>
<p >The following serves as the ground work for the index template. It includes the main Roarr log message properties (context, message, time) and the context properties suggested in the conventions.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;mappings&quot;: {</div>
<div class="line">    &quot;log_message&quot;: {</div>
<div class="line">      &quot;_source&quot;: {</div>
<div class="line">        &quot;enabled&quot;: true</div>
<div class="line">      },</div>
<div class="line">      &quot;dynamic&quot;: &quot;strict&quot;,</div>
<div class="line">      &quot;properties&quot;: {</div>
<div class="line">        &quot;context&quot;: {</div>
<div class="line">          &quot;dynamic&quot;: true,</div>
<div class="line">          &quot;properties&quot;: {</div>
<div class="line">            &quot;application&quot;: {</div>
<div class="line">              &quot;type&quot;: &quot;keyword&quot;</div>
<div class="line">            },</div>
<div class="line">            &quot;hostname&quot;: {</div>
<div class="line">              &quot;type&quot;: &quot;keyword&quot;</div>
<div class="line">            },</div>
<div class="line">            &quot;instanceId&quot;: {</div>
<div class="line">              &quot;type&quot;: &quot;keyword&quot;</div>
<div class="line">            },</div>
<div class="line">            &quot;logLevel&quot;: {</div>
<div class="line">              &quot;type&quot;: &quot;integer&quot;</div>
<div class="line">            },</div>
<div class="line">            &quot;namespace&quot;: {</div>
<div class="line">              &quot;type&quot;: &quot;text&quot;</div>
<div class="line">            },</div>
<div class="line">            &quot;package&quot;: {</div>
<div class="line">              &quot;type&quot;: &quot;text&quot;</div>
<div class="line">            }</div>
<div class="line">          }</div>
<div class="line">        },</div>
<div class="line">        &quot;message&quot;: {</div>
<div class="line">          &quot;type&quot;: &quot;text&quot;</div>
<div class="line">        },</div>
<div class="line">        &quot;time&quot;: {</div>
<div class="line">          &quot;format&quot;: &quot;epoch_millis&quot;,</div>
<div class="line">          &quot;type&quot;: &quot;date&quot;</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  },</div>
<div class="line">  &quot;template&quot;: &quot;logstash-*&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p ><a class="anchor" id="roarr-recipes-using-with-scalyr"></a> </p>
<h3><a class="anchor" id="autotoc_md2677"></a>
Using with Scalyr</h3>
<p >If you are using <a href="https://www.scalyr.com/">Scalyr</a>, you will want to create a custom parser <code>RoarrLogger</code>:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  patterns: {</div>
<div class="line">    tsPattern: &quot;\\w{3},\\s\\d{2}\\s\\w{3}\\s\\d{4}\\s[\\d:]+&quot;,</div>
<div class="line">    tsPattern_8601: &quot;\\d{4}-\\d{2}-\\d{2}T[\\d:.]+Z&quot;</div>
<div class="line">  }</div>
<div class="line">  formats: [</div>
<div class="line">    {format: &quot;${parse=json}$&quot;},</div>
<div class="line">    {format: &quot;.*\&quot;time\&quot;:$timestamp=number$,.*&quot;},</div>
<div class="line">    {format: &quot;$timestamp=tsPattern$ GMT $detail$&quot;},</div>
<div class="line">    {format: &quot;$timestamp=tsPattern_8601$ $detail$&quot;}</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><p >and configure the individual programs to use <code>RoarrLogger</code>. In case of Kubernetes, this means adding a <code>log.config.scalyr.com/attributes.parser: RoarrLogger</code> annotation to the associated deployment, pod or container.</p>
<p ><a class="anchor" id="roarr-recipes-documenting-use-of-roarr"></a> </p>
<h3><a class="anchor" id="autotoc_md2678"></a>
Documenting use of Roarr</h3>
<p >If your package is using Roarr, include instructions in <code>README.md</code> describing how to enable logging, e.g.</p>
<div class="fragment"><div class="line">## Logging</div>
<div class="line"> </div>
<div class="line">This package is using [`roarr`](https://www.npmjs.com/package/roarr) logger to log the program&#39;s state.</div>
<div class="line"> </div>
<div class="line">Export `ROARR_LOG=true` environment variable to enable log printing to stdout.</div>
<div class="line"> </div>
<div class="line">Use [`roarr-cli`](https://github.com/gajus/roarr-cli) program to pretty-print the logs.</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
